<app-header></app-header>
<mat-tab-group>
  <mat-tab label="Initiated Trades">
    <div *ngIf="initiatedTrades.length === 0">No initiated trades found.</div>
    <div *ngFor="let trade of initiatedTrades" class="trade-item">
      <p>{{ trade.itemTitle }} - {{ trade.status }}</p>
      <div *ngIf="trade.status === 'Accepted'">
        <button (click)="completeTrade(trade.id)" mat-raised-button color="accent">Complete</button>
        <button (click)="cancelTrade(trade.id)" mat-raised-button color="warn">Cancel</button>
      </div>
      <div *ngIf="trade.status === 'Completed'">
        <p>Trade Completed</p>
      </div>
    </div>
  </mat-tab>
  <mat-tab label="Received Trades">
    <div *ngIf="receivedTrades.length === 0">No received trades found.</div>
    <div *ngFor="let trade of receivedTrades" class="trade-item">
      <p>{{ trade.itemTitle }} - {{ trade.status }}</p>
      <div *ngIf="trade.status === 'Pending'">
        <button (click)="acceptTrade(trade.id)" mat-raised-button color="primary">Accept</button>
        <button (click)="declineTrade(trade.id)" mat-raised-button color="warn">Decline</button>
      </div>
      <div *ngIf="trade.status === 'Accepted'">
        <p>Initiator's Email: {{ trade.initiatorEmail }}</p>
        <button (click)="completeTrade(trade.id)" mat-raised-button color="accent">Complete</button>
        <button (click)="cancelTrade(trade.id)" mat-raised-button color="warn">Cancel</button>
      </div>
      <div *ngIf="trade.status === 'Cancelled'">
        <p>Trade Cancelled</p>
      </div>
    </div>
  </mat-tab>
</mat-tab-group>
